<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Will You Be My Valentine?</title>
        <style>
            :root {
                color-scheme: light;
            }

            * {
                box-sizing: border-box;
            }

            body {
                margin: 0;
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                font-family: "Trebuchet MS", "Segoe UI", sans-serif;
                background: radial-gradient(
                    circle,
                    #fff0f6 0%,
                    #ffe0ec 55%,
                    #ffd2e1 100%
                );
                color: #3a0d1d;
            }

            .card {
                width: 900px;
                height: 600px;
                background: #ffffff;
                border-radius: 24px;
                padding: 32px;
                text-align: center;
                box-shadow: 0 24px 60px rgba(255, 77, 109, 0.2);
            }

            .title {
                font-size: clamp(1.8rem, 3vw, 2.4rem);
                margin: 0 0 12px;
            }

            .subtitle {
                margin: 0 0 20px;
                font-size: 1.05rem;
                color: #6a1d35;
            }

            .hero-gif {
                width: min(260px, 70vw);
                border-radius: 18px;
                box-shadow: 0 10px 30px rgba(255, 77, 109, 0.2);
            }

            .button-area {
                position: relative;
                margin: 28px auto 0;
                width: min(440px, 90vw);
                height: 170px;
                display: flex;
                align-items: flex-start;
                justify-content: center;
                gap: 20px;
            }

            .btn {
                border: none;
                border-radius: 999px;
                padding: 14px 26px;
                font-size: 1rem;
                font-weight: 600;
                cursor: pointer;
                transition:
                    transform 0.2s ease,
                    background 0.2s ease,
                    box-shadow 0.2s ease;
            }

            .btn:focus-visible {
                outline: 3px solid rgba(255, 77, 109, 0.4);
                outline-offset: 3px;
            }

            .yes {
                --yes-scale: 1;
                background: #ff4d6d;
                color: #ffffff;
                box-shadow: 0 12px 20px rgba(255, 77, 109, 0.3);
                transform: scale(var(--yes-scale));
            }

            .yes:hover {
                background: #ff2f59;
            }

            .no {
                position: absolute;
                top: 0;
                left: 60%;
                background: #fff0f6;
                color: #7a2a44;
                border: 2px solid #ffafc2;
            }

            .hidden {
                display: none;
            }

            .result {
                margin-top: 20px;
                font-size: clamp(1.6rem, 3vw, 2.2rem);
                font-weight: 700;
                color: #ff4d6d;
                letter-spacing: 1px;
            }

            .confetti img {
                width: min(300px, 78vw);
                margin-top: 12px;
            }
        </style>
    </head>
    <body>
        <main class="card">
            <h1 class="title">Will you be my Valentine?</h1>
            <p class="subtitle">You make my heart do tiny happy dances. ðŸ’—</p>
            <img
                class="hero-gif"
                src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif"
                alt="A cute bear holding a heart"
            />

            <div class="button-area" id="buttonArea">
                <button class="btn yes" id="yesButton">Yes</button>
                <button class="btn no" id="noButton">No</button>
            </div>

            <div class="result" id="resultText" aria-live="polite"></div>
            <div class="confetti hidden" id="confetti">
                <img
                    src="https://media.giphy.com/media/26tOZ42Mg6pbTUPHW/giphy.gif"
                    alt="Confetti celebration animation"
                />
            </div>
        </main>

        <script>
            const yesButton = document.getElementById("yesButton");
            const noButton = document.getElementById("noButton");
            const buttonArea = document.getElementById("buttonArea");
            const resultText = document.getElementById("resultText");
            const confetti = document.getElementById("confetti");

            const yesSteps = [
                { label: "I need a more enthusiastic yes", scale: 1.15 },
                { label: "Some more enthusiasm", scale: 1.5 },
                { label: "MORE FUCKING ENTHUSIASM", scale: 2.0 },
                {
                    label: "Sorry for yelling my love, But a little more",
                    scale: 2.0,
                },
                { label: "YAAAAAY", scale: 1.45, celebrate: true },
            ];

            let yesStepIndex = 0;

            const moveNoButton = () => {
                const areaRect = buttonArea.getBoundingClientRect();
                const buttonRect = noButton.getBoundingClientRect();
                const padding = 8;
                const maxX = Math.max(
                    0,
                    areaRect.width - buttonRect.width - padding,
                );
                const maxY = Math.max(
                    0,
                    areaRect.height - buttonRect.height - padding,
                );
                const nextX = Math.floor(Math.random() * (maxX + 1));
                const nextY = Math.floor(Math.random() * (maxY + 1));

                noButton.style.left = `${nextX}px`;
                noButton.style.top = `${nextY}px`;
            };

            noButton.addEventListener("mouseenter", moveNoButton);
            window.addEventListener("resize", moveNoButton);
            moveNoButton();

            yesButton.addEventListener("click", () => {
                if (yesStepIndex >= yesSteps.length) {
                    return;
                }

                const step = yesSteps[yesStepIndex];
                yesButton.textContent = step.label;
                yesButton.style.setProperty("--yes-scale", step.scale);

                if (step.celebrate) {
                    resultText.textContent = "YAAAAAY";
                    confetti.classList.remove("hidden");
                    noButton.classList.add("hidden");
                    noButton.setAttribute("aria-hidden", "true");
                }

                yesStepIndex += 1;
            });
        </script>
    </body>
</html>
